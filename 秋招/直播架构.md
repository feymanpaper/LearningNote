## 技术难点
### 特点
及时性要求高
海量数据且极高并发
系统稳定性要求高
### 核心
#### IM系统的技术核心是什么？
长连接

#### 业务特点
1.参与人数多，峰值高，不稳定
因此需要做集群化，资源弹性扩缩容，直播间分配的资源能够协调

2.消息类型多
聊天，弹幕，礼物

3.消息可分级处理
普通消息，重要消息，历史消息不需要存

#### 消息发送
推拉
推，某一个人发消息，到服务端，服务端找到该直播间的长连接，然后对所有的连接的客户端发送消息

拉，客户端定时轮询，缓存

#### 长连接
心跳管理，长时间没反应则关闭连接

cdn加速

音视频
